<!DOCTYPE html>
<html ng-app="myApp">
<head>
	<title>Items management</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<script src="//ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
	<script>
	var myApp = angular.module('myApp', []);
	
	myApp.controller('ItemController', function ItemController($scope) {
		$scope.records = [
			{ name: 'item 1', url: "http://my-test.com/1", type:"Type-1", status:"OK", include: false },
			{ name: 'item-2', url: "http://my-test.com/2", type:"Type-1", status:"Error", include: false },
			{ name: 'item-2', url: "http://my-test.com/2", type:"Type-1", status:"Processing", include: false },
			{ name: 'item-2', url: "http://my-test.com/2", type:"Type-1", status:"Offline", include: false }
		];
		// Delete data
		$scope.Delete = function (index) {
			$scope.records.splice(index, 1);
		};
		// Reset new data model
		$scope.Reset = function () {
			$scope.newName = '';
			$scope.newURL = "";
			$scope.newType = 0;
		}
		$scope.Reset();
		// Add new data
		$scope.Add = function () {
			// Add to main records
			$scope.records.push({
				name: $scope.newName,
				type: $scope.newType,
				url: $scope.newURL,
				status: "Processing",
				include: false
			});
			// See $Scope.Reset...
			$scope.Reset();
		}
	});
	</script>
</head>
<body ng-controller="ItemController">
	<div class="container">
		<div>
			<h1>List Items</h1>
			<table class="table table-striped">
				<tr>
					<th>Name</th>
					<th>Type</th>
					<th>URL</th>
					<th>Status</th>
					<th>Action</th>
				</tr>
				<tr ng-repeat="record in records" ng-class="{success: record.status == 'OK', warning: record.status == 'Processing', danger: record.status == 'Error'}">
					<td>{{record.name}}</td>
					<td>{{record.type}}</td>
					<td><a href="{{record.url}}">{{record.url}}</a></td>
					<td>{{record.status}}</td>
					<td>
						<button ng-click="Delete($index)"title="Delete this item" class="btn btn-danger btn-sm">
							<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
						</button>
					</td>
				</tr>
			</table>
		</div>
		
		<div>
			<h1>Create a new item</h1>
			<form ng-submit="Add()" class="form-horizontal">
				<div class="field form-group row">
					<label for="state"class="col-sm-3 control-label">Name</label>
					<div class="col-sm-4">
						<input required class="form-control" type="text" placeholder="Enter a name" ng-model="newName">
					</div>
				</div>
				<div class="field form-group row">
					<label for="tax"class="col-sm-3 control-label">Type</label>
					<div class="col-sm-4">
						<select required class="form-control" ng-model="newType" ng-options="opt for opt in ['Type-1','Type-3']" >
							 <option value='' disabled="disabled">Select a type</option>
						</select>
					</div>
				</div>
				<div class="field form-group row">
					<label for="tax"class="col-sm-3 control-label">URL</label>
					<div class="col-sm-4">
						<input class="form-control" placeholder="Enter an URL (optional)" min="0" ng-model="newURL">
					</div>
				</div>
				<div class="action form-group row">
					<div class="col-sm-4"></div>
					<div class="col-sm-4">
						<button type="submit" class="btn btn-default">Add</button>
						<button ng-click="Reset()" class="btn">Reset</button>
					</div>
				</div>
			</form>
		</div>
	</div>
</body>
</html>
